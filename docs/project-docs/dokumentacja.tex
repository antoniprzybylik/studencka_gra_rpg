\documentclass[12pt, titlepage]{article}
\usepackage[polish]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{nunito}
\usepackage[margin=1in]{geometry}
\usepackage{ragged2e}
\usepackage{graphicx}
\usepackage{grffile}
\usepackage{longtable}
\usepackage{wrapfig}
\usepackage{rotating}
\usepackage[normalem]{ulem}
\usepackage{amsmath}
\usepackage{textcomp}
\usepackage{amssymb}
\usepackage{capt-of}
\usepackage{hyperref}
\usepackage{listings}
\usepackage{xcolor}

\author{Antoni Przybylik \\ PROI 23L \\ GRUPA 103 \and
	Zoja Hordyńska \\ PROI 23L \\ GRUPA 103}
\date{\today}
\title{Studenckie RPG - Dokumentacja Projektu}

\setcounter{secnumdepth}{0}
\begin{document}
\maketitle
\justifying

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{listingstyle}{
	backgroundcolor=\color{backcolour},
	commentstyle=\color{codegreen},
	keywordstyle=\color{magenta},
	numberstyle=\tiny\color{codegray},
	stringstyle=\color{codepurple},
	basicstyle=\ttfamily\footnotesize,
	breakatwhitespace=false,
	breaklines=true,
	captionpos=b,
	keepspaces=true,
	numbers=left,
	numbersep=5pt,
	showspaces=false,
	showstringspaces=false,
	showtabs=false,
	tabsize=2
}

\hypersetup{
	colorlinks=true,
	linkcolor=blue,
}

\lstset{style=listingstyle}

\section{Cel i opis projektu}
Głównym celem projektu jest zademonstrowanie
umiejętności z zakresu programowania
obiektowego, znajomości języka C++,
jego standardowej biblioteki, umiejętności
inżynierskich związanych z projektowaniem
złożonych aplikacji i umiejętności społecznych
związanych z pracą w zespole zdobytych na
przedmiocie "`Podstawy Informatyki i Programowania"'
(PROI), a także pogłębienie i utrwalenie
tej wiedzy i tych umiejętności.
Dodatkowo projekt może pomóc jego uczestnikom w
lepszym zrozumieniu zasady działania gier
komputerowych i zdobyciu wiedzy na temat budowania
oprogramowania.
\\~\\
Przedmiotem projektu jest gra "`Studenckie RPG"'.
Jest to RPG do którego stworzenia inspiracją
jest gra Diablo.
\\~\\
Podczas rozgrywki, gracz
wcielający się w studenta przechodzi
przez mapę Politechniki, zbierając przedmioty i
walcząc z potworami godnymi studiów. Każdy gracz
posiada pewne umiejętności, zdrowie i manę.
Podczas walki, gracz rzuca umiejętności, które
zadają losowe obrażenia z danego przedziału
(obrażenia mogą być zwiększone przez niektóre
przedmioty i umiejętności). Celem gry jest zabicie
wszystkich bossów i tym samym przeżycie studiów.
\\~\\
Będzie to gra 2D z widokiem z boku. Świat będzie
zbudowany z bloków (tak jak Minecrafcie). Podobne
mechanizmy gry możemy znaleźć w grach takich jak
\href{https://scratch.mit.edu/projects/10128407/}{Paper Minecraft},
albo \href{https://scratch.mit.edu/projects/21554369/}{Epic Ninja} na Scratchu.
\\~\\
Projekt ma zostać zrealizowany w języku C++ z użyciem
jego zaawansowanych mechanizmów i ze szczególnym
uwzględnieniem paradygmatu obiektowego. Planowane
jest stworzenie dedykowanego silnika gry
zaimplementowanego przy użyciu biblioteki SFML, który
będzie tworzył warstwę abstrakcji między wysokopoziomowym
kodem właściwej gry operującym na "`duszkach"', a
interfejsem biblioteki SFML pozwalającym na
proste operacje takie jak wyświetlanie obrazów.

\newpage
\section{Architektura}
Projekt jest podzielony na cztery moduły:
\begin{itemize}
	\item Silnik gry
	\item Ciało gry
	\item Launcher
	\item Aplikacja gry
\end{itemize}

\subsection{Silnik}
Silnik gry dostarcza interfejs zaprojektowany w
paradygmacie obiektowym. Jest on oparty o model
"`Sprite'owy"'. Użytkownik tworzy "`duszki"' (ang.
sprite) i określa ich interakcje z otoczeniem.
Następnie dodaje duszki do silnika i uruchamia
silnik. Silnik symuluje zachowanie duszków
podane przez użytkownika. Polimorfizm w języku C++
pozwala na
nadpisywanie w klasach dziedziczących po klasie
Sprite (duszek) funkcji wirtualnych i dzięki temu
można w duszkach umieszczać kod który zostanie
wykonany na odpowiednich zdarzeniach takich jak
zderzenie dwóch duszków lub kodu, który jest
wykonywany w każdym tyknięciu zegara.
\\~
\begin{lstlisting}[language=C++, caption=Interfejs silnika - kod poglądowy]
        /* Utworzenie duszka. */
        skin = new SpriteSkin(*tiles, 3, 500, 1);
        sprite = new Sprite(skin,
                            Rect(0, 0, win_x, win_y),
                            BA_BOUNCE);
        sprite->set_position(Rect(100, 100, 75, 75));
        sprite->set_velocity(Vector(120, 250));

        /* Silnik. */
        engine = new Engine();
        engine->bind_window(window);
        engine->add_sprite(sprite);

        engine->exec();
\end{lstlisting}

\noindent
Działanie tego kodu jest zademonstrowane
na
\href{https://gitlab-stud.elka.pw.edu.pl/aprzyby2/proi_projekt/-/blob/bcad75a44615c7e19fda7ad53a3b5c0541fd482f/docs/project-docs/rc/demo.webm}{filmie}.

\newpage
\subsection{Ciało Gry}
Ciało gry to kod implementujący właściwą
rozgrywkę. To w nim znajdą się klasy takie
jak: Player, Enemy, Spell, czy Item.
\\~\\
\textbf{Klasa Player} przechowuje
stan gracza: liczbę punktów zdrowia, manę,
moc i ekwipunek. Metody klasy
będą pozwalać na zarządzanie ekwipunkiem i
modyfikację parametrów gracza.
TODO: Dziedziczy po Sprite.
\\~\\
\textbf{Klasa Enemy} jest klasą bazową
dla wrogów. Jej interfejs powinien
pozwalać na walkę niezależnie od tego,
z jakim przeciwnikiem mamy do czynienia.
\\~\\
\textbf{Klasa Spell} jest pomniejszą
klasą
bazową dostarczająca interfejs czaru.
Wszelkie parametry czaru są wirtualne,
a interfejs ma być taki sam dla wszystkich
klas pochodnych.
\\~\\
\textbf{Item} jest pomniejszą klasą
bazową implementującą interfejs
przedmiotu.
\\~
\begin{lstlisting}[language=C++, caption=Klasa "`Sword"' - kod poglądowy]
class Sword : public Item {
public:
        virtual Sword(void);
        virtual ~Sword(void);

        void action(void) override;
};
\end{lstlisting}

\subsection{Launcher}
Launcher jest programem służącym do uruchomienia gry.
Można w nim modyfikować ustawienia rozgrywki. Zakładane
możliwości dostosowania ustawień rozgrywki obejmują:
zmianę mapy, wczytanie stanu gry z pliku. <TODO>

\subsection{Aplikacja Gry}
Aplikacja gry jest programem który służy
do grania w grę. W oknie aplikacji gry jest
renderowana symulacja gry. Aplikacja gry
powinna dodatkowo pozwalać na zatrzymanie
gry, zmianę ustawień i wyjście z gry. <TODO:
Napisz coś o aplikacji gry.>

\section{Wymagania}
Gra wymaga zainstalowanej biblioteki
SFML. Założone jest działanie gry
na systemach operacyjnych Windows i
Linux. Opcjonalnie gra mogłaby wspierać
system MacOS.

\newpage
\section{Instrukcja użycia}
Należy uruchomić launcher. W
launcherze wybrać preferowane
ustawienia i rozpocząć grę
przyciskiem START. Wtedy pojawi
się nowe okno aplikacji gry.

\section{Biblioteki i Narzędzia}
Projekt w całości ma zostać zrealizowany
w języku C++, w standardzie C++20.
Dopuszczalne jest używanie rozszerzeń
GCC.
\\~\\
Skrypty pozwalające na zbudowanie
projektu mają być kompatybilne z
programem make i do zbudowania
projektu ma zostać użyty toolchain
GCC. Do kompilacji gry na Windowsa
zostanie użyty MinGW.
\\~\\
Projekt ma zostać zrealizowany przy
użyciu biblioteki SFML, biblioteki
standardowej języka C++ (libstdc++),
biblioteki standardowej języka C (libc)
i biblioteki matematycznej (libm).
\\~\\
Dodatkowe aplikacje takie jak
launcher mogą zostać zrealizowane
przy użyciu innych bibliotek np.
QT.
\\~\\
W projekcie nie jest wymagane ścisłe
trzymanie się kanonicznej wersji tych
bibliotek. Dopuszczalne jest użycie
rozszerzeń GLIBC.

\section{Podział Pracy}
\textbf{Antoni}
\begin{itemize}
	\item Silnik
	\item Wybrane części gry
\end{itemize}
 
\noindent
\textbf{Zoja}
\begin{itemize}
	\item Menu
	\item Interfejs gry
	\item Tekstury i obrazki
	\item Ciało gry; Klasy: Player, Enemy, Spell, Item
\end{itemize}

\end{document}
